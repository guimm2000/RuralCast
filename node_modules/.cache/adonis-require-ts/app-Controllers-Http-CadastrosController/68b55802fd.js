"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const User_1 = __importDefault(global[Symbol.for('ioc.use')]("App/Models/User"));
const RegisterValidator_1 = __importDefault(global[Symbol.for('ioc.use')]("App/Validators/RegisterValidator"));
class CadastrosController {
    async index({ view }) {
        return view.render('cadastrar/index');
    }
    async store({ response, request, session }) {
        const payload = await request.validate(RegisterValidator_1.default);
        const user = await User_1.default.create({ email: payload.email, password: payload.password });
        return response.redirect().toRoute('home');
    }
}
exports.default = CadastrosController;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ2FkYXN0cm9zQ29udHJvbGxlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIkNhZGFzdHJvc0NvbnRyb2xsZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFDQSxpRkFBa0M7QUFDbEMsK0dBQWdFO0FBRWhFLE1BQXFCLG1CQUFtQjtJQUNoQyxLQUFLLENBQUMsS0FBSyxDQUFDLEVBQUUsSUFBSSxFQUF1QjtRQUMvQyxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsaUJBQWlCLENBQUMsQ0FBQTtJQUN0QyxDQUFDO0lBRU0sS0FBSyxDQUFDLEtBQUssQ0FBQyxFQUFFLFFBQVEsRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUF1QjtRQUNyRSxNQUFNLE9BQU8sR0FBRyxNQUFNLE9BQU8sQ0FBQyxRQUFRLENBQUMsMkJBQWlCLENBQUMsQ0FBQTtRQUV6RCxNQUFNLElBQUksR0FBRyxNQUFNLGNBQUksQ0FBQyxNQUFNLENBQUMsRUFBQyxLQUFLLEVBQUUsT0FBTyxDQUFDLEtBQUssRUFBRSxRQUFRLEVBQUUsT0FBTyxDQUFDLFFBQVEsRUFBQyxDQUFDLENBQUE7UUFFbEYsT0FBTyxRQUFRLENBQUMsUUFBUSxFQUFFLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFBO0lBQzNDLENBQUM7Q0FDRDtBQVpELHNDQVlDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBIdHRwQ29udGV4dENvbnRyYWN0IH0gZnJvbSAnQGlvYzpBZG9uaXMvQ29yZS9IdHRwQ29udGV4dCdcbmltcG9ydCBVc2VyIGZyb20gJ0FwcC9Nb2RlbHMvVXNlcidcbmltcG9ydCBSZWdpc3RlclZhbGlkYXRvciBmcm9tICdBcHAvVmFsaWRhdG9ycy9SZWdpc3RlclZhbGlkYXRvcidcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FkYXN0cm9zQ29udHJvbGxlciB7XG5cdHB1YmxpYyBhc3luYyBpbmRleCh7IHZpZXcgfTogSHR0cENvbnRleHRDb250cmFjdCkge1xuXHRcdHJldHVybiB2aWV3LnJlbmRlcignY2FkYXN0cmFyL2luZGV4Jylcblx0fVxuXG5cdHB1YmxpYyBhc3luYyBzdG9yZSh7IHJlc3BvbnNlLCByZXF1ZXN0LCBzZXNzaW9uIH06IEh0dHBDb250ZXh0Q29udHJhY3QpIHtcblx0XHRjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVxdWVzdC52YWxpZGF0ZShSZWdpc3RlclZhbGlkYXRvcilcblxuXHRcdGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyLmNyZWF0ZSh7ZW1haWw6IHBheWxvYWQuZW1haWwsIHBhc3N3b3JkOiBwYXlsb2FkLnBhc3N3b3JkfSlcblxuXHRcdHJldHVybiByZXNwb25zZS5yZWRpcmVjdCgpLnRvUm91dGUoJ2hvbWUnKVxuXHR9XG59XG4iXX0=